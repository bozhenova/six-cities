(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{223:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(2),i=n.n(c),o=n(8),s=n(17),l=n(179),u=n(35),f=function(e){var t=e.currentCity;return r.a.createElement("div",{className:"cities__places-container cities__places-container--empty container"},r.a.createElement("section",{className:"cities__no-places"},r.a.createElement("div",{className:"cities__status-wrapper tabs__content"},r.a.createElement("b",{className:"cities__status"},"No places to stay available"),r.a.createElement("p",{className:"cities__status-description"},"We could not find any property available at the moment in"," ",t))),r.a.createElement("div",{className:"cities__right-section"}))},p=n(14),m=n(4),y=function(e){var t=e.sortType,n=e.name,a=e.onSelectOption,c=e.isSelected,i=Object(o.c)();return r.a.createElement("li",{className:"".concat(c&&"places__option--active"," places__option"),onKeyPress:function(e){e.key===m.b.ENTER&&(a(t,n),i(p.a.setSortType(t)))},onClick:function(){a(t,n),i(p.a.setSortType(t))},tabIndex:0,"data-value":t},n)};y.propTypes={sortType:i.a.string.isRequired,name:i.a.string.isRequired,onSelectOption:i.a.func.isRequired,isSelected:i.a.bool.isRequired};var b=y;function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,c=e}finally{try{a||null==o.return||o.return()}finally{if(r)throw c}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var v=function(){var e=_(Object(a.useState)(!1),2),t=e[0],n=e[1],c=_(Object(a.useState)("popular"),2),i=c[0],o=c[1],s=_(Object(a.useState)("Popular"),2),l=s[0],u=s[1],f=Object(a.useRef)(),p=Object(a.useRef)();Object(a.useEffect)((function(){return window.addEventListener("click",y),function(){return window.removeEventListener("click",y)}}),[t]);var y=function(e){var a=f.current.contains(e.target),r=p.current.contains(e.target);!t||a||r||n(!1)},d=function(e,t){n(!1),o(e),u(t)};return r.a.createElement("div",{className:"places__sorting",action:"#",method:"get"},r.a.createElement("span",{className:"places__sorting-caption"},"Sort by "),r.a.createElement("span",{type:"button",className:"places__sorting-type",onClick:function(){n((function(e){return!e}))},onKeyPress:function(e){e.key===m.b.ENTER&&n((function(e){return!e}))},tabIndex:0,ref:p},l,r.a.createElement("svg",{className:"places__sorting-arrow",width:"7",height:"4"},r.a.createElement("use",{xlinkHref:"#icon-arrow-select"}))),r.a.createElement("ul",{onKeyDown:function(e){e.key===m.b.ESCAPE&&n(!1)},ref:f,className:"".concat(t&&"places__options--opened"," places__options places__options--custom"),tabIndex:-1},m.c.map((function(e){return r.a.createElement(b,{onSelectOption:d,isSelected:i===e.isSelected,sortType:e.sortType,name:e.name,button:p,key:e.sortType})}))))},E=n(180),h=function(e){var t=e.city,n=e.currentCity,a=e.changeCity;return r.a.createElement("li",{className:"locations__item"},r.a.createElement("a",{className:"locations__item-link tabs__item ".concat(n===t?"tabs__item--active":""),onClick:function(e){e.preventDefault(),a(t)},tabIndex:0,onKeyPress:function(e){e.preventDefault(),e.key===m.b.ENTER&&a(t)}},r.a.createElement("span",null,t)))};h.propTypes={city:i.a.string.isRequired,changeCity:i.a.func.isRequired,currentCity:i.a.string.isRequired};var g=h,N=n(185),O=function(){var e=Object(o.c)(),t=Object(o.d)(s.f),n=Object(o.d)(s.a),a=function(t){e(p.a.setCity(t))};return r.a.createElement("section",{className:"locations container"},r.a.createElement("ul",{className:"locations__list tabs__list"},t.map((function(e){return r.a.createElement(g,{key:N.generate(),city:e,changeCity:a,currentCity:n})}))))};function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=T(e);if(t){var r=T(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P,x,q,A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(i,e);var t,n,a,c=R(i);function i(){return S(this,i),c.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.currentCity,n=e.offers;return r.a.createElement("div",{className:"page page--gray page--main"},r.a.createElement(u.a,null),r.a.createElement("main",{className:"page__main page__main--index"},r.a.createElement("h1",{className:"visually-hidden"},"Cities"),r.a.createElement("div",{className:"tabs"},r.a.createElement(O,null)),r.a.createElement("div",{className:"cities"},n.length?r.a.createElement("div",{className:"cities__places-container container"},r.a.createElement("section",{className:"cities__places places"},r.a.createElement("h2",{className:"visually-hidden"},"Places"),r.a.createElement("b",{className:"places__found"},n.length," places to stay in ",t),r.a.createElement(v,null),r.a.createElement(E.a,{offers:n,classModOffers:["cities__places-list","tabs__content"],classModPrefix:"cities",mainClassMod:"cities__place-card"})),r.a.createElement("div",{className:"cities__right-section"},r.a.createElement("section",{className:"cities__map map"},r.a.createElement(l.a,{offers:n})))):r.a.createElement(f,{currentCity:t}))))}}])&&j(t.prototype,n),a&&j(t,a),i}(a.PureComponent);P=A,x="propTypes",q={offers:i.a.array.isRequired,currentCity:i.a.string.isRequired},x in P?Object.defineProperty(P,x,{value:q,enumerable:!0,configurable:!0,writable:!0}):P[x]=q;var I=Object(o.b)((function(e){return{currentCity:Object(s.a)(e),offers:Object(s.e)(e)}}))(A);t.default=I}}]);
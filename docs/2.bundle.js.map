{"version":3,"sources":["webpack:///./src/components/footer/index.js","webpack:///./src/components/footer/footer.js","webpack:///./src/redux/reducer/favorites/selectors.js","webpack:///./src/components/favorites-empty/index.js","webpack:///./src/components/favorites-empty/favorites-empty.js","webpack:///./src/containers/favorites-page/favorites-page.js","webpack:///./src/containers/favorites-page/index.js"],"names":["Footer","className","to","src","alt","width","height","FavoritesEmpty","props","Favorites","e","preventDefault","changeCurrentCity","currentTarget","getAttribute","history","push","this","loadFavorites","favorites","cities","length","map","city","key","type","data-city","onClick","onCityClick","offer","id","mainClassMod","classModPrefix","offerDetails","PureComponent","PropTypes","object","array","func","isRequired","updateFavorites","connect","state","getFavorites","group","Set","item","name","forEach","groupFavoritesByCities","Object","keys","dispatch","Operations","ActionCreator","setCity"],"mappings":"oKAEeA,ECCA,WACb,OACE,4BAAQC,UAAU,oBAChB,kBAAC,IAAD,CAAMA,UAAU,oBAAoBC,GAAI,KACtC,yBACED,UAAU,eACVE,IAAI,eACJC,IAAI,gBACJC,MAAM,KACNC,OAAO,U,0uBCZV,I,gBCEQC,ECAQ,SAAAC,GACrB,OACE,0BAAMP,UAAU,gEACd,yBAAKA,UAAU,uCACb,6BAASA,UAAU,8BACjB,wBAAIA,UAAU,mBAAd,qBACA,yBAAKA,UAAU,6BACb,uBAAGA,UAAU,qBAAb,sBACA,uBAAGA,UAAU,iCAAb,wE,+6CCGNQ,E,yaAaU,SAAAC,GACZA,EAAEC,kBAIFC,EAH8B,EAAKJ,MAA3BI,mBACKF,EAAEG,cAAcC,aAAhB,cAGbC,IAAQC,KAAK,Q,2DATbC,KAAKT,MAAMU,kB,+BAYJ,aACuBD,KAAKT,MAA3BW,EADD,EACCA,UAAWC,EADZ,EACYA,OAEnB,OACE,yBAAKnB,UAAU,QACb,kBAAC,IAAD,MACEmB,EAAOC,OAGP,0BAAMpB,UAAU,oCACd,yBAAKA,UAAU,uCACb,6BAASA,UAAU,aACjB,wBAAIA,UAAU,oBAAd,iBACA,wBAAIA,UAAU,mBACXmB,EAAOE,KAAI,SAAAC,GACV,OACE,wBAAIC,IAAKD,EAAMtB,UAAU,8BACvB,yBAAKA,UAAU,qDACb,yBAAKA,UAAU,mBACb,4BACEwB,KAAK,SACLC,YAAWH,EACXI,QAAS,EAAKC,YACd3B,UAAU,wBAEV,8BAAOsB,MAIb,yBAAKtB,UAAU,qBACZkB,EAAUI,GAAMD,KAAI,SAAAO,GAAK,OACxB,kBAAC,IAAD,CACEL,IAAKK,EAAMC,GACXC,aAAY,kBACZC,eAAc,YACdC,aAAcJ,gBA5BlC,kBAAC,EAAD,MAwCF,kBAAC,EAAD,Y,8BArEgBK,iB,EAAlBzB,E,YACe,CACjBU,UAAWgB,IAAUC,OACrBhB,OAAQe,IAAUE,MAClBnB,cAAeiB,IAAUG,KAAKC,WAC9B3B,kBAAmBuB,IAAUG,KAAKC,WAClCC,gBAAiBL,IAAUG,KAAKC,aAqEpC,IAeeE,eAfS,SAAAC,GACtB,IAAMvB,EHvF8B,SAAAuB,GACpC,IAAMvB,EAHoB,SAAAuB,GAAK,OAAIA,EAAMvB,UAAUA,UAGjCwB,CAAaD,GACzBE,EAAQ,GACVzB,EAAUE,SACO,EAAI,IAAIwB,IAAJ,EAAY1B,EAAUG,KAAI,SAAAwB,GAAI,OAAIA,EAAKvB,KAAKwB,WAExDC,SAAQ,SAAAF,GACjBF,EAAME,GAAQ,MAEhB3B,EAAU6B,SAAQ,SAAAF,GAChBF,EAAME,EAAKvB,KAAKwB,MAAM/B,KAAK8B,OAG/B,OAAOF,EG0EWK,CAAuBP,GAEzC,MAAO,CACLtB,OAAQ8B,OAAOC,KAAKhC,GACpBA,UAAWA,MAIY,SAAAiC,GAAQ,MAAK,CACtClC,cAAe,kBAAMkC,EAASC,IAAWnC,kBACzCsB,gBAAiB,SAAAX,GAAK,OAAIuB,EAASC,IAAWb,gBAAgBX,KAC9DjB,kBAAmB,SAAAW,GAAI,OAAI6B,EAASE,IAAcC,QAAQhC,QAG7CkB,CAA6ChC,GCrG7CA","file":"2.bundle.js","sourcesContent":["import Footer from './footer';\n\nexport default Footer;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Footer = () => {\n  return (\n    <footer className='footer container'>\n      <Link className='footer__logo-link' to={'/'}>\n        <img\n          className='footer__logo'\n          src='img/logo.svg'\n          alt='6 cities logo'\n          width='64'\n          height='33'\n        />\n      </Link>\n    </footer>\n  );\n};\n\nexport default Footer;\n","export const getFavorites = state => state.favorites.favorites;\n\nexport const groupFavoritesByCities = state => {\n  const favorites = getFavorites(state);\n  const group = {};\n  if (favorites.length) {\n    const citiesKeys = [...new Set([...favorites.map(item => item.city.name)])];\n\n    citiesKeys.forEach(item => {\n      group[item] = [];\n    });\n    favorites.forEach(item => {\n      group[item.city.name].push(item);\n    });\n  }\n  return group;\n};\n","import FavoritesEmpty from './favorites-empty';\n\nexport default FavoritesEmpty;\n","import React, { PureComponent } from 'react';\n\nconst FavoritesEmpty = props => {\n  return (\n    <main className='page__main page__main--favorites page__main--favorites-empty'>\n      <div className='page__favorites-container container'>\n        <section className='favorites favorites--empty'>\n          <h1 className='visually-hidden'>Favorites (empty)</h1>\n          <div className='favorites__status-wrapper'>\n            <b className='favorites__status'>Nothing yet saved.</b>\n            <p className='favorites__status-description'>\n              Save properties to narrow down search or plan yor future trips.\n            </p>\n          </div>\n        </section>\n      </div>\n    </main>\n  );\n};\nexport default FavoritesEmpty;\n","import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport history from '../../history';\nimport Header from '../../components/header';\nimport Footer from '../../components/footer';\nimport { groupFavoritesByCities } from '../../redux/reducer/favorites/selectors';\nimport { Operations } from '../../redux/reducer/favorites/actions';\nimport { ActionCreator } from '../../redux/reducer/data/actions';\nimport FavoritesEmpty from '../../components/favorites-empty';\nimport CardWrapped from '../../components/card';\n\nclass Favorites extends PureComponent {\n  static propTypes = {\n    favorites: PropTypes.object,\n    cities: PropTypes.array,\n    loadFavorites: PropTypes.func.isRequired,\n    changeCurrentCity: PropTypes.func.isRequired,\n    updateFavorites: PropTypes.func.isRequired\n  };\n\n  componentDidMount() {\n    this.props.loadFavorites();\n  }\n\n  onCityClick = e => {\n    e.preventDefault();\n    const { changeCurrentCity } = this.props;\n    const city = e.currentTarget.getAttribute(`data-city`);\n\n    changeCurrentCity(city);\n    history.push('/');\n  };\n\n  render() {\n    const { favorites, cities } = this.props;\n\n    return (\n      <div className='page'>\n        <Header />\n        {!cities.length ? (\n          <FavoritesEmpty />\n        ) : (\n          <main className='page__main page__main--favorites'>\n            <div className='page__favorites-container container'>\n              <section className='favorites'>\n                <h1 className='favorites__title'>Saved listing</h1>\n                <ul className='favorites__list'>\n                  {cities.map(city => {\n                    return (\n                      <li key={city} className='favorites__locations-items'>\n                        <div className='favorites__locations locations locations--current'>\n                          <div className='locations__item'>\n                            <button\n                              type='button'\n                              data-city={city}\n                              onClick={this.onCityClick}\n                              className='locations__item-link'\n                            >\n                              <span>{city}</span>\n                            </button>\n                          </div>\n                        </div>\n                        <div className='favorites__places'>\n                          {favorites[city].map(offer => (\n                            <CardWrapped\n                              key={offer.id}\n                              mainClassMod={`favorites__card`}\n                              classModPrefix={`favorites`}\n                              offerDetails={offer}\n                            />\n                          ))}\n                        </div>\n                      </li>\n                    );\n                  })}\n                </ul>\n              </section>\n            </div>\n          </main>\n        )}\n        <Footer />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const favorites = groupFavoritesByCities(state);\n\n  return {\n    cities: Object.keys(favorites),\n    favorites: favorites\n  };\n};\n\nconst mapDispatchToProps = dispatch => ({\n  loadFavorites: () => dispatch(Operations.loadFavorites()),\n  updateFavorites: offer => dispatch(Operations.updateFavorites(offer)),\n  changeCurrentCity: city => dispatch(ActionCreator.setCity(city))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Favorites);\n","import Favorites from './favorites-page';\n\nexport default Favorites;\n"],"sourceRoot":""}
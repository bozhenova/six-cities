(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{224:function(e,t,a){var r={"./af":81,"./af.js":81,"./ar":82,"./ar-dz":83,"./ar-dz.js":83,"./ar-kw":84,"./ar-kw.js":84,"./ar-ly":85,"./ar-ly.js":85,"./ar-ma":86,"./ar-ma.js":86,"./ar-sa":87,"./ar-sa.js":87,"./ar-tn":88,"./ar-tn.js":88,"./ar.js":82,"./az":89,"./az.js":89,"./be":90,"./be.js":90,"./bg":91,"./bg.js":91,"./bm":92,"./bm.js":92,"./bn":93,"./bn.js":93,"./bo":94,"./bo.js":94,"./br":95,"./br.js":95,"./bs":96,"./bs.js":96,"./ca":97,"./ca.js":97,"./cs":98,"./cs.js":98,"./cv":99,"./cv.js":99,"./cy":100,"./cy.js":100,"./da":101,"./da.js":101,"./de":102,"./de-at":103,"./de-at.js":103,"./de-ch":104,"./de-ch.js":104,"./de.js":102,"./dv":105,"./dv.js":105,"./el":106,"./el.js":106,"./en-au":107,"./en-au.js":107,"./en-ca":108,"./en-ca.js":108,"./en-gb":109,"./en-gb.js":109,"./en-ie":110,"./en-ie.js":110,"./en-il":111,"./en-il.js":111,"./en-in":112,"./en-in.js":112,"./en-nz":113,"./en-nz.js":113,"./en-sg":114,"./en-sg.js":114,"./eo":115,"./eo.js":115,"./es":116,"./es-do":117,"./es-do.js":117,"./es-us":118,"./es-us.js":118,"./es.js":116,"./et":119,"./et.js":119,"./eu":120,"./eu.js":120,"./fa":121,"./fa.js":121,"./fi":122,"./fi.js":122,"./fil":123,"./fil.js":123,"./fo":124,"./fo.js":124,"./fr":125,"./fr-ca":126,"./fr-ca.js":126,"./fr-ch":127,"./fr-ch.js":127,"./fr.js":125,"./fy":128,"./fy.js":128,"./ga":129,"./ga.js":129,"./gd":130,"./gd.js":130,"./gl":131,"./gl.js":131,"./gom-deva":132,"./gom-deva.js":132,"./gom-latn":133,"./gom-latn.js":133,"./gu":134,"./gu.js":134,"./he":135,"./he.js":135,"./hi":136,"./hi.js":136,"./hr":137,"./hr.js":137,"./hu":138,"./hu.js":138,"./hy-am":139,"./hy-am.js":139,"./id":140,"./id.js":140,"./is":141,"./is.js":141,"./it":142,"./it-ch":143,"./it-ch.js":143,"./it.js":142,"./ja":144,"./ja.js":144,"./jv":145,"./jv.js":145,"./ka":146,"./ka.js":146,"./kk":147,"./kk.js":147,"./km":148,"./km.js":148,"./kn":149,"./kn.js":149,"./ko":150,"./ko.js":150,"./ku":151,"./ku.js":151,"./ky":152,"./ky.js":152,"./lb":153,"./lb.js":153,"./lo":154,"./lo.js":154,"./lt":155,"./lt.js":155,"./lv":156,"./lv.js":156,"./me":157,"./me.js":157,"./mi":158,"./mi.js":158,"./mk":159,"./mk.js":159,"./ml":160,"./ml.js":160,"./mn":161,"./mn.js":161,"./mr":162,"./mr.js":162,"./ms":163,"./ms-my":164,"./ms-my.js":164,"./ms.js":163,"./mt":165,"./mt.js":165,"./my":166,"./my.js":166,"./nb":167,"./nb.js":167,"./ne":168,"./ne.js":168,"./nl":169,"./nl-be":170,"./nl-be.js":170,"./nl.js":169,"./nn":171,"./nn.js":171,"./oc-lnc":172,"./oc-lnc.js":172,"./pa-in":173,"./pa-in.js":173,"./pl":174,"./pl.js":174,"./pt":175,"./pt-br":176,"./pt-br.js":176,"./pt.js":175,"./ro":177,"./ro.js":177,"./ru":178,"./ru.js":178,"./sd":179,"./sd.js":179,"./se":180,"./se.js":180,"./si":181,"./si.js":181,"./sk":182,"./sk.js":182,"./sl":183,"./sl.js":183,"./sq":184,"./sq.js":184,"./sr":185,"./sr-cyrl":186,"./sr-cyrl.js":186,"./sr.js":185,"./ss":187,"./ss.js":187,"./sv":188,"./sv.js":188,"./sw":189,"./sw.js":189,"./ta":190,"./ta.js":190,"./te":191,"./te.js":191,"./tet":192,"./tet.js":192,"./tg":193,"./tg.js":193,"./th":194,"./th.js":194,"./tk":195,"./tk.js":195,"./tl-ph":196,"./tl-ph.js":196,"./tlh":197,"./tlh.js":197,"./tr":198,"./tr.js":198,"./tzl":199,"./tzl.js":199,"./tzm":200,"./tzm-latn":201,"./tzm-latn.js":201,"./tzm.js":200,"./ug-cn":202,"./ug-cn.js":202,"./uk":203,"./uk.js":203,"./ur":204,"./ur.js":204,"./uz":205,"./uz-latn":206,"./uz-latn.js":206,"./uz.js":205,"./vi":207,"./vi.js":207,"./x-pseudo":208,"./x-pseudo.js":208,"./yo":209,"./yo.js":209,"./zh-cn":210,"./zh-cn.js":210,"./zh-hk":211,"./zh-hk.js":211,"./zh-mo":212,"./zh-mo.js":212,"./zh-tw":213,"./zh-tw.js":213};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id=224},226:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(12),i=a.n(s),c=a(22),o=a(71),l=a(5),u=function(e){return e.reviews.reviews.sort((function(e,t){return o(t.date).valueOf()-o(e.date).valueOf()})).slice(0,l.a.AMOUNT_COMMENTS)},m=function(e){return e.reviews.isSent},f=function(e){return e.reviews.isSending},p=a(72),d=a(2),_=a(11),h=function(e){return{type:d.a.LOAD_REVIEWS,payload:e}},v=function(e){return{type:d.a.POST_REVIEW,payload:e}},y=function(e){return{type:d.a.SET_IS_SENT_STATUS,payload:e}},b=function(e){return{type:d.a.SET_IS_SENDING_STATUS,payload:e}},g=function(e){return{type:d.a.SET_ERROR,payload:e}},E=function(e){return function(t,a,r){return r.get("".concat(l.a.COMMENTS_PATH,"/").concat(e)).then((function(e){return Object(_.a)(e)})).then((function(e){t(h(e))}))}},j=function(e,t){return function(a,r,n){return n.post("".concat(l.a.COMMENTS_PATH,"/").concat(e),{comment:t.comment,rating:t.rating}).then((function(e){return Object(_.a)(e)})).then((function(e){a(v(e)),a(b(!1)),a(y(!0)),a(g(""))})).catch((function(e){a(g(e)),a(b(!1))}))}},N=a(41),w=a(23),O=a(78),k=a(36),T=a(73);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,s=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{r||null==c.return||c.return()}finally{if(n)throw s}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var S=function(e){var t=e.currentOfferId,a=Object(r.useRef)(),s=Object(c.c)(),i=R(Object(r.useState)(0),2),o=i[0],u=i[1],p=R(Object(r.useState)(""),2),d=p[0],_=p[1],h=R(Object(r.useState)(!1),2),v=h[0],g=h[1],E=Object(c.d)(m),N=Object(c.d)(f);return Object(r.useEffect)((function(){var e=d.length>=l.a.MIN_TEXT_LENGTH&&d.length<=l.a.MAX_TEXT_LENGTH;g(e&&o>0),E&&(g(!1),u(0),_(""),s(y(!1)),a.current.reset())}),[d,o,E]),n.a.createElement("form",{className:"reviews__form form",action:"#",method:"post",onSubmit:function(e){e.preventDefault(),s(j(t,{comment:d,rating:o})),s(b(!0))},ref:a},n.a.createElement("label",{className:"reviews__label form__label",htmlFor:"review"},"Your review"),n.a.createElement("div",{className:"reviews__rating-form form__rating",onChange:function(e){u(e.target.value)}},n.a.createElement("input",{className:"form__rating-input visually-hidden",name:"rating",value:"5",id:"5-stars",type:"radio"}),n.a.createElement("label",{htmlFor:"5-stars",className:"reviews__rating-label form__rating-label",title:"perfect"},n.a.createElement("svg",{className:"form__star-image",width:"37",height:"33"},n.a.createElement("use",{xlinkHref:"#icon-star"}))),n.a.createElement("input",{className:"form__rating-input visually-hidden",name:"rating",value:"4",id:"4-stars",type:"radio"}),n.a.createElement("label",{htmlFor:"4-stars",className:"reviews__rating-label form__rating-label",title:"good"},n.a.createElement("svg",{className:"form__star-image",width:"37",height:"33"},n.a.createElement("use",{xlinkHref:"#icon-star"}))),n.a.createElement("input",{className:"form__rating-input visually-hidden",name:"rating",value:"3",id:"3-stars",type:"radio"}),n.a.createElement("label",{htmlFor:"3-stars",className:"reviews__rating-label form__rating-label",title:"not bad"},n.a.createElement("svg",{className:"form__star-image",width:"37",height:"33"},n.a.createElement("use",{xlinkHref:"#icon-star"}))),n.a.createElement("input",{className:"form__rating-input visually-hidden",name:"rating",value:"2",id:"2-stars",type:"radio"}),n.a.createElement("label",{htmlFor:"2-stars",className:"reviews__rating-label form__rating-label",title:"badly"},n.a.createElement("svg",{className:"form__star-image",width:"37",height:"33"},n.a.createElement("use",{xlinkHref:"#icon-star"}))),n.a.createElement("input",{className:"form__rating-input visually-hidden",name:"rating",value:"1",id:"1-star",type:"radio"}),n.a.createElement("label",{htmlFor:"1-star",className:"reviews__rating-label form__rating-label",title:"terribly"},n.a.createElement("svg",{className:"form__star-image",width:"37",height:"33"},n.a.createElement("use",{xlinkHref:"#icon-star"})))),n.a.createElement("textarea",{className:"reviews__textarea form__textarea",id:"review",name:"review",placeholder:"Tell how was your stay, what you like and what can be improved",value:d,onChange:function(e){_(e.target.value)},minLength:l.a.MIN_TEXT_LENGTH,maxLength:l.a.MAX_TEXT_LENGTH}),n.a.createElement("div",{className:"reviews__button-wrapper"},n.a.createElement("p",{className:"reviews__help"},"To submit review please make sure to set"," ",n.a.createElement("span",{className:"reviews__star"},"rating")," and describe your stay with at least"," ",n.a.createElement("b",{className:"reviews__text-amount"},l.a.MIN_TEXT_LENGTH," characters"),"."),n.a.createElement("button",{className:"reviews__submit form__submit button",type:"submit",disabled:!v||N},N?"Sending...":"Submit")))};S.propTypes={currentOfferId:i.a.number.isRequired};var M=S,P=a(79),I=a(18),C=function(e){var t=e.review,a=t.comment,r=t.date,s=t.rating,i=t.user;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"reviews__user user"},n.a.createElement("div",{className:"reviews__avatar-wrapper user__avatar-wrapper"},n.a.createElement("img",{className:"reviews__avatar user__avatar",src:i.avatarUrl,width:"54",height:"54",alt:i.name})),n.a.createElement("span",{className:"reviews__user-name"},i.name),i.isPro&&n.a.createElement("span",{className:"reviews__user-status"},"Pro")),n.a.createElement("div",{className:"reviews__info"},n.a.createElement("div",{className:"reviews__rating rating"},n.a.createElement("div",{className:"reviews__stars rating__stars"},n.a.createElement("span",{style:{width:"".concat(100*s/l.a.MAX_RATING,"%")}}),n.a.createElement("span",{className:"visually-hidden"},"Rating"))),n.a.createElement("p",{className:"reviews__text"},a),n.a.createElement("time",{className:"reviews__time",dateTime:r},Object(I.b)(r))))};C.propTypes={comment:i.a.string,date:i.a.string,rating:i.a.number,user:i.a.shape({avatarUrl:i.a.string,isPro:i.a.bool,name:i.a.string})};var x=C,z=function(e){var t=e.reviews.map((function(e){return n.a.createElement("li",{className:"reviews__item",key:e.id},n.a.createElement(x,{review:e}))}));return n.a.createElement("ul",{className:"reviews__list"},t)};z.propTypes={reviews:i.a.array};var q=z,H=a(75);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=X(e);if(t){var n=X(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return V(this,a)}}function V(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K,W,Z,B=a(80),Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,a,r,s=G(i);function i(){return D(this,i),s.apply(this,arguments)}return t=i,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.loadNearbyOffers,a=e.loadReviews,r=e.match,n=e.setCurrentOffer,s=parseInt(r.params.id);n(s),t(s),a(s)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.loadNearbyOffers,r=t.loadReviews,n=t.match,s=t.setCurrentOffer,i=parseInt(n.params.id);e.match!==n&&(s(i),a(i),r(i))}},{key:"render",value:function(){var e=this.props,t=e.reviews,a=e.nearbyOffers,r=e.match,s=e.offer,i=e.isAuthorizationRequired,c=s.isPremium,o=s.rating,u=s.price,m=s.title,f=s.isFavorite,p=s.bedrooms,d=s.maxAdults,_=s.host,h=s.description,v=s.images,y=s.goods,b=s.id,g=Object.keys(s).length?v.slice(0,l.a.AMOUNT_PHOTOS).map((function(e){return n.a.createElement("div",{className:"property__image-wrapper",key:B.generate()},n.a.createElement("img",{className:"property__image",src:e,alt:"Photo property"}))})):null,E=Object.keys(s).length?y.map((function(e){return n.a.createElement("li",{className:"property__inside-item",key:B.generate()},e)})):null;return n.a.createElement("div",{className:"page"},n.a.createElement(T.a,null),n.a.createElement("main",{className:"page__main page__main--property"},Object.keys(s).length?n.a.createElement("section",{className:"property"},n.a.createElement("div",{className:"property__gallery-container container"},n.a.createElement("div",{className:"property__gallery"},g)),n.a.createElement("div",{className:"property__container container"},n.a.createElement("div",{className:"property__wrapper"},c&&n.a.createElement("div",{className:"place-card__mark"},n.a.createElement("span",null,"Premium")),n.a.createElement("div",{className:"property__name-wrapper"},n.a.createElement("h1",{className:"property__name"},m),n.a.createElement(H.a,{id:b,isFavorite:f,prefixClass:"property",width:31,height:33,match:r})),n.a.createElement("div",{className:"property__rating rating"},n.a.createElement("div",{className:"property__stars rating__stars"},n.a.createElement("span",{style:{width:"".concat(100*o/l.a.MAX_RATING,"%")}}),n.a.createElement("span",{className:"visually-hidden"},"Rating")),n.a.createElement("span",{className:"property__rating-value rating__value"},o)),n.a.createElement("ul",{className:"property__features"},n.a.createElement("li",{className:"property__feature property__feature--entire"},"Entire place"),n.a.createElement("li",{className:"property__feature property__feature--bedrooms"},"".concat(p,p>1?" Bedrooms":" Bedroom")),n.a.createElement("li",{className:"property__feature property__feature--adults"},"Max ",d," adults")),n.a.createElement("div",{className:"property__price"},n.a.createElement("b",{className:"property__price-value"},"€",u),n.a.createElement("span",{className:"property__price-text"}," night")),n.a.createElement("div",{className:"property__inside"},n.a.createElement("h2",{className:"property__inside-title"},"What's inside"),n.a.createElement("ul",{className:"property__inside-list"},E)),n.a.createElement("div",{className:"property__host"},n.a.createElement("h2",{className:"property__host-title"},"Meet the host"),n.a.createElement("div",{className:"property__host-user user"},n.a.createElement("div",{className:"property__avatar-wrapper property__avatar-wrapper--pro user__avatar-wrapper"},n.a.createElement("img",{className:"property__avatar user__avatar",src:"".concat(_.avatar),width:"74",height:"74",alt:"Host avatar"})),n.a.createElement("span",{className:"property__user-name"},_.name),_.isPro&&n.a.createElement("span",{className:"property__user-status"},"Pro")),n.a.createElement("div",{className:"property__description"},n.a.createElement("p",{className:"property__text"},h))),t.length>0&&n.a.createElement("section",{className:"property__reviews reviews"},n.a.createElement("h2",{className:"reviews__title"},"Reviews ·",n.a.createElement("span",{className:"reviews__amount"},t.length)),n.a.createElement(q,{reviews:t}),!i&&n.a.createElement(M,{currentOfferId:b})))),n.a.createElement("section",{className:"property__map map"},a.length?n.a.createElement(O.a,{offers:a}):null)):n.a.createElement(k.a,null),n.a.createElement("div",{className:"container"},a.length?n.a.createElement("section",{className:"near-places places"},n.a.createElement("h2",{className:"near-places__title"},"Other places in the neighbourhood"),n.a.createElement(P.a,{offers:a,classModOffers:["near-places__list"],classModPrefix:"near-places",mainClassMod:"near-places__card"})):null)))}}])&&L(t.prototype,a),r&&L(t,r),i}(r.PureComponent);K=Y,W="propTypes",Z={offer:i.a.object,nearbyOffers:i.a.array.isRequired,reviews:i.a.any,loadReviews:i.a.func.isRequired,setCurrentOffer:i.a.func.isRequired,loadNearbyOffers:i.a.func.isRequired,match:i.a.object.isRequired},W in K?Object.defineProperty(K,W,{value:Z,enumerable:!0,configurable:!0,writable:!0}):K[W]=Z;var J=Object(c.b)((function(e,t){var a=t.match.params.id;return{offer:Object(N.d)(e,a)||{},nearbyOffers:Object(N.c)(e),reviews:u(e),isAuthorizationRequired:Object(p.a)(e)}}),(function(e){return{loadReviews:function(t){return e(E(t))},loadNearbyOffers:function(t){return e(w.b.loadNearbyOffers(t))},setCurrentOffer:function(t){return e(w.a.setCurrentOffer(t))}}}))(Y);t.default=J},72:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n}));var r=function(e){return e.user.isAuthorizationRequired},n=function(e){return e.user.loginData}},73:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(70),i=a(40),c=a(22),o=a(5),l=a(72),u=a(24),m=function(){var e=Object(c.d)(l.b),t=Object(c.d)(l.a),a=Object(c.c)(),r=Object(s.g)(),m=t?n.a.createElement("span",{className:"header__login",onClick:function(){a(u.a.requiredAuthorization(!0)),r.push(o.a.LOGIN_PATH)},tabIndex:0,onKeyPress:function(e){e.key===o.b.ENTER&&(a(u.a.requiredAuthorization(!0)),r.push("/login"))}},"Sign in"):n.a.createElement("span",{className:"header__user-name user__name"},e.email);return n.a.createElement("header",{className:"header"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"header__wrapper"},n.a.createElement("div",{className:"header__left"},n.a.createElement(i.a,{to:"/",className:"header__logo-link header__logo-link--active"},n.a.createElement("img",{className:"header__logo",src:"img/logo.svg",alt:"6 cities logo",width:"81",height:"41"}))),n.a.createElement("nav",{className:"header__nav"},n.a.createElement("ul",{className:"header__nav-list"},n.a.createElement("li",{className:"header__nav-item user"},n.a.createElement(i.a,{to:t?"/login":"/favorites",className:"header__nav-link header__nav-link--profile"},n.a.createElement("div",{className:"header__avatar-wrapper user__avatar-wrapper",style:e.avatarUrl&&{backgroundImage:"url(".concat(o.a.BASE_URL).concat(e.avatarUrl,")")}}),m)))))))};t.a=m},74:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(2),n=a(5),s=a(11),i=function(e){return{type:r.a.LOAD_FAVORITES,payload:e}},c=function(e){return{type:r.a.UPDATE_FAVORITES,payload:e}},o={loadFavorites:function(){return function(e,t,a){return a.get(n.a.FAVORITE_PATH).then((function(e){return Object(s.d)(e)})).then((function(t){return e(i(t))}))}},updateFavorites:function(e,t){return function(a,r,i){return i.post("".concat(n.a.FAVORITE_PATH,"/").concat(e,"/").concat(+!t)).then((function(e){return Object(s.c)(e)})).then((function(e){return a(c(e))}))}}}},75:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(22),i=a(12),c=a.n(i),o=a(5),l=a(15),u=a(23),m=a(74),f=a(72),p=function(e){var t=e.isFavorite,a=e.prefixClass,r=e.width,i=e.height,c=e.id,p=e.match,d=Object(s.c)(),_=Object(s.d)(f.a),h=function(e){var t=e.params.id;switch(e.path){case"/":return void d(u.b.loadOffers());case"/offer/:id":return d(u.b.loadNearbyOffers(t)),void d(u.b.loadOffers());case"/favorites":return void d(m.a.loadFavorites())}};return n.a.createElement("button",{type:"button",className:"".concat(a,"__bookmark-button ").concat(!_&&t?"place-card__bookmark-button--active":""," button"),"aria-pressed":t?"true":"false",onClick:function(){_?l.a.push(o.a.LOGIN_PATH):function(e,t,a){d(m.a.updateFavorites(e,t)),h(a,e)}(c,t,p)}},n.a.createElement("svg",{className:"place-card__bookmark-icon","aria-hidden":"true",width:r,height:i},n.a.createElement("use",{xlinkHref:"#icon-bookmark"})),n.a.createElement("span",{className:"visually-hidden"},t?"In":"To"," bookmarks"))};p.propTypes={id:c.a.number.isRequired,match:c.a.object.isRequired,isFavorite:c.a.bool.isRequired,prefixClass:c.a.string.isRequired,width:c.a.number.isRequired,height:c.a.number.isRequired};var d=p;t.a=d},76:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(12),i=a.n(s),c=a(40),o=a(70),l=a(75),u=a(5),m=function(e){var t=e.offerDetails,a=t.title,r=t.id,s=t.previewPhoto,i=t.isPremium,o=t.isFavorite,m=t.price,f=t.type,p=t.rating,d=e.mainClassMod,_=void 0===d?"":d,h=e.classModPrefix,v=void 0===h?"":h,y=e.selectOffer,b=e.match,g=function(){"/"===b.path&&y(r)},E=function(){"/offer/:id"===b.path&&y(r)};return n.a.createElement("article",{className:"".concat(_," place-card")},i?n.a.createElement("div",{className:"place-card__mark"},n.a.createElement("span",null,"Premium")):null,n.a.createElement("div",{className:"".concat(v,"__image-wrapper place-card__image-wrapper"),onClick:E,onMouseEnter:g},n.a.createElement("button",{type:"button"},n.a.createElement(c.a,{to:"/offer/".concat(r)},n.a.createElement("img",{className:"place-card__image",src:s,width:"".concat("/favorites"===b.path?"150":"260"),height:"".concat("/favorites"===b.path?"110":"200"),alt:a})))),n.a.createElement("div",{className:"".concat(v,"__card-info place-card__info")},n.a.createElement("div",{className:"place-card__price-wrapper"},n.a.createElement("div",{className:"place-card__price"},n.a.createElement("b",{className:"place-card__price-value"},"€",m),n.a.createElement("span",{className:"place-card__price-text"},"/ night")),n.a.createElement(l.a,{id:r,isFavorite:o,prefixClass:"place-card",width:18,height:19,match:b})),n.a.createElement("div",{className:"place-card__rating rating"},n.a.createElement("div",{className:"place-card__stars rating__stars"},n.a.createElement("span",{style:{width:"".concat(100*p/u.a.MAX_RATING,"%")}}),n.a.createElement("span",{className:"visually-hidden"},"Rating"))),n.a.createElement("h2",{className:"place-card__name",onClick:E,onMouseEnter:g},n.a.createElement(c.a,{to:"/offer/".concat(r)},a)),n.a.createElement("p",{className:"place-card__type"},f)))};m.propTypes={offerDetails:i.a.object.isRequired,match:i.a.object.isRequired,classModPrefix:i.a.string.isRequired,mainClassMod:i.a.string.isRequired,selectOffer:i.a.func};var f=Object(o.h)(m);t.a=f},78:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(12),i=a.n(s),c=a(214),o=a.n(c),l=a(22),u=a(41);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){c=!0,s=e},f:function(){try{i||null==a.return||a.return()}finally{if(c)throw s}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=g(e);if(t){var n=g(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return y(this,a)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var j={ID:"map",MARKER_PATH:"img/pin.svg",ACTIVE_MARKER_PATH:"img/pin-active.svg",MARKER_SIZE:[30,30],TITLE_LAYER:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"},N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,a,r,s=v(i);function i(){var e;d(this,i);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return E(b(e=s.call.apply(s,[this].concat(a))),"coordinates",e.props.offers.map((function(e){return e.place.coords}))),E(b(e),"city",e.props.offers[0].city),E(b(e),"group",null),E(b(e),"icon",o.a.icon({iconUrl:j.MARKER_PATH,iconSize:j.MARKER_SIZE})),E(b(e),"activeIcon",o.a.icon({iconUrl:j.ACTIVE_MARKER_PATH,iconSize:j.MARKER_SIZE})),e}return t=i,(a=[{key:"addMarkers",value:function(){this.group=o.a.layerGroup().addTo(this.map);var e,t=f(this.coordinates);try{for(t.s();!(e=t.n()).done;){var a=e.value;o.a.marker(a,{icon:this.icon}).addTo(this.group)}}catch(e){t.e(e)}finally{t.f()}o.a.marker(this.props.currentOfferCoords,{icon:this.activeIcon}).addTo(this.group)}},{key:"initMap",value:function(){this.map=o.a.map(j.ID,{center:this.city.coords,zoom:this.city.zoom,zoomControl:!1,marker:!0,scrollWheelZoom:!1}),this.map.setView(this.city.coords,this.city.zoom),o.a.tileLayer(j.TITLE_LAYER).addTo(this.map),this.addMarkers()}},{key:"componentDidMount",value:function(){this.initMap()}},{key:"componentDidUpdate",value:function(){this.city=this.props.offers[0].city,this.coordinates=this.props.offers.map((function(e){return e.place.coords})),this.group.clearLayers(),this.map.setView(this.city.coords,this.city.zoom);var e,t=f(this.coordinates);try{for(t.s();!(e=t.n()).done;){var a=e.value;o.a.marker(a,{icon:this.icon}).addTo(this.group)}}catch(e){t.e(e)}finally{t.f()}o.a.marker(this.props.currentOfferCoords,{icon:this.activeIcon}).addTo(this.group)}},{key:"render",value:function(){return n.a.createElement("div",{style:{width:"100%",height:"100%"},className:"cities__map",id:"map"})}}])&&_(t.prototype,a),r&&_(t,r),i}(r.PureComponent);E(N,"propTypes",{offers:i.a.array.isRequired,currentOfferCoords:i.a.array.isRequired}),E(N,"defaultProps",{offers:[]});var w=Object(l.b)((function(e){return{currentOfferCoords:Object(u.b)(e)}}))(N);t.a=w},79:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(22),i=a(12),c=a.n(i),o=a(76),l=a(23),u=function(e){var t=e.classModPrefix,a=e.offers,r=e.mainClassMod,i=e.classModOffers,c=Object(s.c)(),u=function(e){c(l.a.setCurrentOffer(e))},m=a.map((function(e){return n.a.createElement(o.a,{key:e.id,offerDetails:e,selectOffer:u,classModPrefix:t,mainClassMod:r})}));return n.a.createElement("div",{className:"".concat(i.join(" ")," places__list ")},m)};u.propTypes={classModPrefix:c.a.string.isRequired,offers:c.a.array.isRequired,classModOffers:c.a.array.isRequired,mainClassMod:c.a.string.isRequired};var m=u;t.a=m}}]);